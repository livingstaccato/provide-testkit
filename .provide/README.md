# .provide/ Directory Structure

This directory contains configuration, shared assets, and generated outputs for the provide.io ecosystem tooling.

## Directory Layout

```
.provide/
├── security/              # Security tool configs (versioned ✓)
├── foundry/               # MkDocs/foundry configs (versioned ✓)
├── shared/                # Ecosystem assets (gitignored ✗)
├── output/                # Tool outputs/artifacts (gitignored ✗)
├── logs/                  # Log files (gitignored ✗)
├── cache/                 # Tool caches (gitignored ✗)
├── HANDOFF.md             # Session handoff document (versioned ✓)
└── README.md              # This file (versioned ✓)
```

## Directory Purposes

### `security/` - Security Tool Configurations (Versioned)

Configuration files for security scanning tools. These are **version controlled** to ensure consistent security policies across the team.

- `gitleaks.toml` - Secret detection rules and allowlists
- `trufflehog.yml` - Deep secret scanning configuration
- `bandit.toml` - Python SAST configuration
- `safety-policy.yml` - Dependency vulnerability policy
- `checkov.yml` - IaC security scanning configuration
- `semgrep.yml` - Pattern-based SAST rules

### `foundry/` - Provide Foundry Configurations (Versioned)

Configuration files extracted from or generated by provide-foundry. These are **version controlled**.

- `base-mkdocs.yml` - Base MkDocs configuration template

### `shared/` - Ecosystem Shared Assets (Gitignored)

Assets extracted from other provide.io ecosystem packages. These are **regenerated on demand** and should not be committed.

- `foundry/theme/` - MkDocs theme extracted from provide-foundry

**Regenerate with:** `we run docs.setup`

### `output/` - Tool Execution Outputs (Gitignored)

Generated outputs from tool execution. These are **artifacts** that should not be committed.

- `security/` - Security scan results (JSON reports, summaries)
- `coverage/` - Coverage reports
- `quality/` - Quality metrics and reports

### `logs/` - Log Files (Gitignored)

Log files from tool execution. These are **transient** and should not be committed.

- Tool execution logs
- Debug output
- Build logs

### `cache/` - Tool Caches (Gitignored)

Temporary caches for tools. These are **ephemeral** and should not be committed.

- MkDocs build cache
- Type checker caches
- Other tool-specific caches

## Gitignore Configuration

The following subdirectories are automatically ignored:

```gitignore
.provide/shared/
.provide/output/
.provide/logs/
.provide/cache/
```

The following directories are **versioned**:
- `.provide/security/`
- `.provide/foundry/`

## Usage

### Security Scanning

```bash
# Uses configs from .provide/security/
we security                    # Run all scans
we security.secrets           # Secret detection
we security.deps              # Dependency vulnerabilities
```

Outputs go to `.provide/output/security/`

### Documentation

```bash
# Extracts theme to .provide/shared/foundry/theme/
we run docs.setup

# Uses configs from .provide/foundry/
we run docs.build
```

## Best Practices

1. **Commit configs** - Security, foundry, and other tool configs should be versioned
2. **Don't commit outputs** - Generated artifacts are transient
3. **Regenerate shared assets** - Run setup commands to regenerate extracted assets
4. **Clean caches** - Use `we clean` to remove cache directories
5. **Document changes** - Update this README when adding new directories

## Related Files

- `.gitignore` - Contains ignore patterns for this directory
- `wrknv.toml` - Task definitions that use these configs
- `pyproject.toml` - Python package configuration
